#N struct rect float x float y float z float c;
#N canvas 252 263 853 390 12;
#X declare -path lib/quacktrip~ -path lib -path ../lib;
#N canvas 75 184 1243 719 main-panel 0;
#X text 24 216 server;
#X symbolatom 26 237 32 0 0 0 - #0-server-set #0-server;
#X obj 185 355 tgl 15 0 \$0-onoff \$0-onoff-set empty 17 7 0 10 -262144
-1 -1 0 1;
#X floatatom 68 264 6 1000 100000 0 - #0-port-set #0-port;
#X text 31 264 port;
#X floatatom 324 423 2 1 8 0 - #0-this-caller-set #0-this-caller;
#X floatatom 128 59 3 0 100 0 - #0-lvl-in-set #0-lvl-in;
#X obj 158 84 bng 15 250 50 0 \$0-mute-in empty empty 0 0 0 12 -262144
-1 -1;
#X text 180 80 mute;
#X obj 158 130 tgl 15 0 \$0-tone \$0-tone-set empty 17 7 0 10 -262144
-1 -1 0 1;
#N canvas 737 32 871 763 input-audio 0;
#X obj 596 265 t b;
#X obj 596 212 f;
#X obj 596 290 f;
#X msg 726 289 0;
#X obj 596 242 moses 1;
#X obj 726 261 t b f;
#X obj 692 222 moses 1;
#X obj 205 65 hip~ 3;
#X msg 610 88 set \$1;
#X obj 407 66 f;
#X obj 407 90 max 0;
#X text 616 153 MUTE logic;
#X obj 407 162 line~;
#X obj 407 139 pack 0 30;
#X obj 204 200 *~;
#X obj 475 467 abs~;
#X obj 475 492 slop~ 0 0 0.3 0 1e+09, f 11;
#X obj 772 507 metro 100;
#X obj 476 544 snapshot~;
#X obj 476 569 rmstodb;
#X obj 476 594 moses 1;
#X msg 477 629 -100;
#X obj 524 624 - 88;
#X obj 773 479 loadbang;
#X obj 407 115 expr pow($f1*0.02 \, 4);
#X obj 66 449 outlet~;
#X obj 217 120 -~;
#X obj 217 164 *~ 0;
#X obj 205 41 adc~ 1;
#X obj 325 66 *~ 0.03;
#X obj 407 40 r \$0-lvl-in;
#X obj 610 63 r \$0-lvl-in;
#X obj 610 113 s \$0-lvl-in-set;
#X obj 691 193 r \$0-lvl-in;
#X obj 596 316 s \$0-lvl-in;
#X obj 203 273 +~;
#X obj 329 214 r~ \$0-adc-addin;
#X obj 280 432 > 55;
#X obj 280 457 sel 0 1;
#X obj 310 481 del 200;
#X msg 280 504 1;
#X msg 310 504 0;
#X obj 323 432 r \$0-on-thresh;
#X obj 81 619 loadbang;
#X msg 81 644 55;
#X obj 81 669 s \$0-on-thresh;
#X obj 202 636 setctl \$0-on-thresh;
#X obj 201 661 setctl \$0-reference-in-env;
#N canvas 0 50 761 589 limiter 0;
#X obj 61 108 inlet~;
#X obj 75 135 abs~;
#X obj 75 160 slop~ 0 0 5 0 1e+09;
#X obj 74 192 *~ 10.1;
#X obj 487 88 array define \$0-limit 1000;
#X obj 542 155 loadbang;
#X obj 542 180 t b b;
#X obj 542 205 1000;
#X obj 542 230 until;
#X obj 542 255 f;
#X obj 574 255 + 1;
#X obj 598 209 0;
#X obj 542 280 t f f;
#X obj 458 365 tabwrite \$0-limit;
#X obj 491 157 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 444 320 expr min(1 \, 10/(max(1 \, $f1)));
#X obj 74 217 tabread4~ \$0-limit;
#X obj 61 249 *~;
#X obj 61 276 outlet~;
#X obj 241 107 inlet~;
#X obj 255 134 abs~;
#X obj 255 159 slop~ 0 0 5 0 1e+09;
#X obj 254 191 *~ 10.1;
#X obj 254 216 tabread4~ \$0-limit;
#X obj 241 248 *~;
#X obj 241 275 outlet~;
#X connect 0 0 1 0;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 16 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 11 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 15 0;
#X connect 12 1 13 1;
#X connect 14 0 6 0;
#X connect 15 0 13 0;
#X connect 16 0 17 1;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 19 0 24 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 24 1;
#X connect 24 0 25 0;
#X restore 53 421 pd limiter;
#X f 11;
#N canvas 54 332 430 433 auto-gain 0;
#X obj 49 257 inlet~;
#X obj 50 370 outlet~;
#X obj 251 28 inlet;
#X obj 257 170 line;
#X obj 256 198 max 65;
#X obj 256 223 expr 190-$f1;
#X obj 252 57 t f f;
#X obj 294 84 >;
#X obj 309 107 sel 1 0;
#X obj 340 133 2000;
#X obj 309 132 50;
#X floatatom 315 246 5 0 0 0 - - -;
#X floatatom 350 50 5 0 0 0 - - -;
#X obj 256 248 dbtorms;
#X obj 49 340 *~;
#X obj 258 280 pack 50;
#X obj 258 305 line~;
#X obj 127 259 inlet~;
#X obj 128 372 outlet~;
#X obj 127 342 *~;
#X connect 0 0 14 0;
#X connect 2 0 6 0;
#X connect 2 0 12 0;
#X connect 3 0 4 0;
#X connect 3 0 7 1;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 5 0 13 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 8 1 9 0;
#X connect 9 0 3 1;
#X connect 10 0 3 1;
#X connect 13 0 15 0;
#X connect 14 0 1 0;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X connect 16 0 19 1;
#X connect 17 0 19 0;
#X connect 19 0 18 0;
#X restore 53 382 pd auto-gain;
#X obj 280 534 s \$0-havesignal;
#X obj 671 430 /~ 10;
#X obj 596 185 r \$0-mute-in;
#X obj 321 120 r \$0-tone;
#X obj 325 41 osc~ 440;
#X obj 271 66 hip~ 3;
#X obj 270 201 *~;
#X obj 283 121 -~;
#X obj 283 165 *~ 0;
#X obj 269 275 +~;
#X obj 271 42 adc~ 2;
#N canvas 0 50 450 300 envelope 0;
#X obj 91 34 inlet~;
#X obj 144 32 inlet~;
#X obj 217 156 max;
#N canvas 329 157 450 300 env1 0;
#X obj 41 26 inlet~;
#X obj 45 195 outlet~;
#X obj 148 30 inlet~;
#X obj 152 199 outlet~;
#X obj 225 203 outlet;
#X obj 65 74 env~;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 5 0 4 0;
#X restore 97 88 pd env1;
#N canvas 329 157 450 300 env2 0;
#X obj 41 26 inlet~;
#X obj 38 137 outlet~;
#X obj 148 30 inlet~;
#X obj 145 141 outlet~;
#X obj 218 145 outlet;
#X obj 169 69 env~;
#X connect 0 0 1 0;
#X connect 2 0 3 0;
#X connect 2 0 5 0;
#X connect 5 0 4 0;
#X restore 97 123 pd env2;
#X obj 95 178 outlet~;
#X obj 154 180 outlet~;
#X obj 217 181 outlet;
#X text 248 81 this is stupid overkill;
#X connect 0 0 3 0;
#X connect 1 0 3 1;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 3 2 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 2 0;
#X restore 52 323 pd envelope;
#X obj 299 273 *~ 0;
#X obj 338 271 == 0;
#X obj 234 229 -~;
#X obj 133 450 outlet~;
#X obj 476 657 s \$0-vu-in1;
#X obj 570 465 abs~;
#X obj 570 490 slop~ 0 0 0.3 0 1e+09, f 11;
#X obj 571 542 snapshot~;
#X obj 571 567 rmstodb;
#X obj 571 592 moses 1;
#X msg 572 627 -100;
#X obj 619 622 - 88;
#X obj 670 463 abs~;
#X obj 670 488 slop~ 0 0 0.3 0 1e+09, f 11;
#X obj 671 540 snapshot~;
#X obj 671 565 rmstodb;
#X obj 671 590 moses 1;
#X msg 672 625 -100;
#X obj 719 620 - 88;
#X obj 571 655 s \$0-vu-in2;
#X obj 671 653 s \$0-vu-post;
#N canvas 393 132 727 426 agc-level 0;
#X obj 152 15 loadbang;
#X obj 171 161 switch~ 128;
#X obj 560 200 t f f;
#X obj 505 257 + 0.1;
#X obj 153 68 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X msg 27 176 0.9;
#X floatatom 29 233 5 0 0 0 - - -;
#X obj 152 40 del 1000;
#X obj 505 230 tabread \$0-amp-history;
#X obj 505 283 tabwrite \$0-amp-history;
#X obj 266 275 tabsend~ \$0-amp-history;
#X obj 265 220 tabreceive~ \$0-amp-history;
#X obj 29 208 array quantile \$0-amp-history;
#X obj 95 269 s \$0-reference-in-env;
#X obj 377 38 array define \$0-amp-history 100;
#X obj 149 116 t b b b;
#X obj 284 180 expr 10/max(10 \, $f1);
#X obj 265 245 *~ 1;
#X obj 80 236 max 65;
#X obj 537 143 r \$0-on-thresh;
#X obj 507 171 moses 55;
#X obj 507 115 inlet;
#X obj 80 302 outlet;
#X floatatom 573 111 5 0 0 0 - - -;
#X obj 284 155 array sum \$0-amp-history;
#X obj 149 91 metro 50;
#X connect 0 0 7 0;
#X connect 2 0 8 0;
#X connect 2 1 9 1;
#X connect 3 0 9 0;
#X connect 4 0 25 0;
#X connect 5 0 12 0;
#X connect 7 0 4 0;
#X connect 8 0 3 0;
#X connect 11 0 17 0;
#X connect 12 0 6 0;
#X connect 12 0 18 0;
#X connect 15 0 5 0;
#X connect 15 1 1 0;
#X connect 15 2 24 0;
#X connect 16 0 17 1;
#X connect 17 0 10 0;
#X connect 18 0 13 0;
#X connect 18 0 22 0;
#X connect 19 0 20 1;
#X connect 20 1 2 0;
#X connect 21 0 20 0;
#X connect 21 0 23 0;
#X connect 24 0 16 0;
#X connect 25 0 15 0;
#X restore 132 352 pd agc-level;
#X obj 51 486 delwrite~ \$0-del-in1 1500, f 10;
#X obj 128 485 delwrite~ \$0-del-in2 1500, f 10;
#X obj 338 246 r \$0-stereo;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 34 0;
#X connect 3 0 34 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 6 1 2 1;
#X connect 7 0 14 0;
#X connect 7 0 26 1;
#X connect 8 0 32 0;
#X connect 9 0 10 0;
#X connect 10 0 24 0;
#X connect 12 0 14 1;
#X connect 12 0 56 1;
#X connect 13 0 12 0;
#X connect 14 0 35 0;
#X connect 14 0 64 0;
#X connect 15 0 16 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 17 0 69 0;
#X connect 17 0 76 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 20 1 22 0;
#X connect 21 0 66 0;
#X connect 22 0 66 0;
#X connect 23 0 17 0;
#X connect 24 0 13 0;
#X connect 26 0 27 0;
#X connect 27 0 14 0;
#X connect 28 0 7 0;
#X connect 29 0 26 0;
#X connect 29 0 57 0;
#X connect 30 0 9 0;
#X connect 31 0 8 0;
#X connect 33 0 1 1;
#X connect 33 0 6 0;
#X connect 35 0 15 0;
#X connect 35 0 61 0;
#X connect 36 0 35 1;
#X connect 37 0 38 0;
#X connect 38 0 40 0;
#X connect 38 1 39 0;
#X connect 39 0 41 0;
#X connect 40 0 50 0;
#X connect 41 0 50 0;
#X connect 42 0 37 1;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 48 0 25 0;
#X connect 48 0 84 0;
#X connect 48 1 65 0;
#X connect 48 1 85 0;
#X connect 49 0 48 0;
#X connect 49 0 51 0;
#X connect 49 1 48 1;
#X connect 51 0 74 0;
#X connect 52 0 1 0;
#X connect 53 0 27 1;
#X connect 53 0 58 1;
#X connect 54 0 29 0;
#X connect 55 0 56 0;
#X connect 55 0 57 1;
#X connect 56 0 59 0;
#X connect 56 0 64 1;
#X connect 57 0 58 0;
#X connect 58 0 56 0;
#X connect 59 0 61 1;
#X connect 59 0 67 0;
#X connect 60 0 55 0;
#X connect 61 0 49 0;
#X connect 61 1 49 1;
#X connect 61 2 83 0;
#X connect 61 2 37 0;
#X connect 62 0 59 1;
#X connect 63 0 62 1;
#X connect 64 0 62 0;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 71 1 73 0;
#X connect 72 0 81 0;
#X connect 73 0 81 0;
#X connect 74 0 75 0;
#X connect 75 0 76 0;
#X connect 76 0 77 0;
#X connect 77 0 78 0;
#X connect 78 0 79 0;
#X connect 78 1 80 0;
#X connect 79 0 82 0;
#X connect 80 0 82 0;
#X connect 83 0 49 2;
#X connect 86 0 63 0;
#X restore 425 233 pd input-audio;
#X obj 424 330 quacktrip~;
#N canvas 420 73 668 550 to-quacktrip 0;
#X obj 20 512 outlet;
#X obj 134 371 sel 1 0;
#X msg 153 435 off;
#X obj 466 407 r \$0-fifo-size;
#X msg 466 436 nbuf \$1;
#X msg 188 437 block \$1;
#X msg 282 439 nchan \$1;
#X obj 188 407 r \$0-block;
#X obj 134 344 r \$0-onoff;
#X obj 282 409 r \$0-nchan;
#X msg 379 438 repeat \$1;
#X obj 377 410 r \$0-2x;
#X msg 34 432 client \$2 \$3;
#X obj 79 167 r \$0-server;
#X obj 37 400 pack 0 s 0;
#X obj 120 198 r \$0-port;
#X obj 138 229 r \$0-this-caller;
#X obj 137 255 t b f;
#X obj 111 291 +;
#X floatatom 123 316 6 0 0 0 - - -;
#X connect 1 0 14 0;
#X connect 1 1 2 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 5 0;
#X connect 8 0 1 0;
#X connect 9 0 6 0;
#X connect 10 0 0 0;
#X connect 11 0 10 0;
#X connect 12 0 0 0;
#X connect 13 0 14 1;
#X connect 14 0 12 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 1 18 1;
#X connect 18 0 14 2;
#X connect 18 0 19 0;
#X restore 522 303 pd to-quacktrip;
#X obj 1017 40 loadbang;
#X obj 951 40 f \$0;
#X obj 994 42 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 66 322 5 0 0 0 - #0-local-sr-set #0-local-sr;
#X floatatom 129 437 3 0 0 0 - #0-local-ch-set #0-local-ch;
#X floatatom 180 437 3 0 0 0 - #0-local-blk-set #0-local-blk;
#X text 174 404 block size, f 5;
#X floatatom 227 437 5 0 0 0 - #0-local-mbits-set #0-local-mbits;
#X text 221 401 mbits per sec, f 7;
#X obj 812 225 samplerate~;
#X obj 812 250 s \$0-local-sr-set;
#X obj 773 315 s \$0-local-ch-set;
#X obj 810 64 r \$0-blksel;
#X obj 810 89 sel 0 1;
#X msg 810 114 64;
#X msg 840 114 128;
#X msg 873 116 256;
#X obj 810 139 s \$0-block;
#X obj 812 172 loadbang;
#X obj 812 199 metro 1000;
#X obj 772 290 r \$0-nchan;
#X obj 917 283 r \$0-block;
#X obj 918 309 s \$0-local-blk-set;
#X floatatom 963 65 5 0 0 0 - - -;
#X obj 1066 286 r \$0-server;
#X msg 1066 311 0;
#X obj 1066 336 s \$0-onoff;
#X symbolatom 166 182 16 0 0 0 - #0-my-name-set #0-my-name;
#X symbolatom 166 203 16 0 0 0 - #0-session-name-set #0-session-name
;
#X obj 26 64 tgl 15 0 \$0-call \$0-call-set empty 17 7 0 10 -262144
-1 -1 0 1;
#X text 45 62 CALL;
#N canvas 586 72 803 722 set-up-call 0;
#X obj 160 142 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 371 151 0;
#X obj 371 176 s \$0-onoff;
#X obj 186 68 r \$0-call;
#X obj 186 117 change;
#X obj 187 143 t f f b, f 16;
#X obj 224 190 v \$0-call;
#X obj 187 189 != 0;
#X obj 158 189 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 187 217 metro 1000;
#X obj 235 411 netsend -u;
#X obj 289 277 r \$0-server;
#X obj 234 330 pack 0 s 0;
#X obj 302 302 r \$0-port;
#X obj 234 273 sel 0;
#X obj 188 244 t b b;
#X msg 235 358 connect \$2 \$3;
#X obj 120 467 v \$0-control-connected;
#X obj 234 247 v \$0-control-connected;
#X obj 464 306 v \$0-control-connected;
#X obj 464 331 sel 1;
#X msg 464 357 disconnect;
#X obj 33 276 r \$0-session-name;
#X obj 34 243 r \$0-my-name;
#X obj 303 498 spigot;
#X obj 302 472 t l f;
#X obj 358 472 int;
#X obj 546 650 s \$0-this-caller;
#X obj 510 86 r \$0-my-name;
#X obj 471 113 symbol;
#X obj 471 138 sel -;
#N canvas 666 89 1178 737 make-up-name 0;
#X obj 622 231 text define -k \$0-letters;
#A set b f g c p s \; k m n t v z \; h l q r w y \; a e i o u y \;
c s l r m p \; f g k n r t \;;
#X obj 212 102 realtime;
#X obj 213 137 t f f;
#X obj 210 171 * 0.01234;
#X obj 210 196 mod 1e+06;
#X obj 313 201 mod 1e+06;
#X obj 210 221 +;
#X obj 475 290 mod 6;
#X obj 432 289 div 6;
#X obj 210 286 t b f;
#X obj 432 316 mod 6;
#X obj 389 315 div 6;
#X obj 390 344 mod 6;
#X obj 347 343 div 6;
#X obj 347 370 mod 6;
#X obj 304 369 div 6;
#X obj 302 400 mod 6;
#X obj 259 399 div 6;
#X obj 259 426 mod 6;
#X obj 260 503 text get \$0-letters;
#X obj 259 451 t b f;
#X msg 260 476 0;
#X obj 260 528 list fromsymbol;
#X obj 246 623 list tosymbol;
#X obj 246 593 pack 0 0 0 0 0 0;
#X obj 242 563 f;
#X obj 404 501 text get \$0-letters;
#X obj 403 449 t b f;
#X obj 404 526 list fromsymbol;
#X obj 552 499 text get \$0-letters;
#X obj 551 447 t b f;
#X obj 552 524 list fromsymbol;
#X obj 696 497 text get \$0-letters;
#X obj 695 445 t b f;
#X obj 696 522 list fromsymbol;
#X obj 838 500 text get \$0-letters;
#X obj 837 448 t b f;
#X obj 838 525 list fromsymbol;
#X obj 982 498 text get \$0-letters;
#X obj 981 446 t b f;
#X obj 982 523 list fromsymbol;
#X symbolatom 276 653 10 0 0 0 - - -;
#X msg 404 474 1;
#X msg 552 472 2;
#X msg 696 470 3;
#X msg 838 473 4;
#X msg 982 471 5;
#X obj 265 38 inlet;
#X obj 247 688 outlet;
#X text 324 691 somebody has too much time on his hands.;
#X obj 264 73 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 226 250 8 0 0 0 - - -;
#X floatatom 280 132 10 0 0 0 - - -;
#X obj 86 245 mod 100;
#X obj 86 270 *;
#X obj 134 35 loadbang;
#X obj 134 60 metro 1e+06;
#X obj 154 105 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 313 171 * 573.24;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 52 0;
#X connect 2 1 58 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 9 0;
#X connect 6 0 51 0;
#X connect 7 0 39 0;
#X connect 8 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 25 0;
#X connect 9 1 8 0;
#X connect 9 1 7 0;
#X connect 10 0 36 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 33 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 30 0;
#X connect 15 0 16 0;
#X connect 15 0 17 0;
#X connect 16 0 27 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 20 1 19 1;
#X connect 21 0 19 0;
#X connect 22 0 25 1;
#X connect 23 0 41 0;
#X connect 23 0 48 0;
#X connect 24 0 23 0;
#X connect 25 0 24 0;
#X connect 26 0 28 0;
#X connect 27 0 42 0;
#X connect 27 1 26 1;
#X connect 28 0 24 1;
#X connect 29 0 31 0;
#X connect 30 0 43 0;
#X connect 30 1 29 1;
#X connect 31 0 24 2;
#X connect 32 0 34 0;
#X connect 33 0 44 0;
#X connect 33 1 32 1;
#X connect 34 0 24 3;
#X connect 35 0 37 0;
#X connect 36 0 45 0;
#X connect 36 1 35 1;
#X connect 37 0 24 4;
#X connect 38 0 40 0;
#X connect 39 0 46 0;
#X connect 39 1 38 1;
#X connect 40 0 24 5;
#X connect 42 0 26 0;
#X connect 43 0 29 0;
#X connect 44 0 32 0;
#X connect 45 0 35 0;
#X connect 46 0 38 0;
#X connect 47 0 50 0;
#X connect 50 0 1 1;
#X connect 53 0 54 0;
#X connect 55 0 56 0;
#X connect 56 0 1 0;
#X connect 57 0 1 0;
#X connect 58 0 5 0;
#X restore 471 192 pd make-up-name;
#X obj 472 218 s \$0-my-name;
#X obj 471 170 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 245 93 sel 0;
#X obj 150 528 r \$0-onoff;
#X obj 67 526 loadbang;
#X msg 67 551 1;
#X obj 150 553 == 0;
#X obj 201 602 spigot;
#X msg 201 626 1;
#X obj 202 651 s \$0-onoff;
#X obj 699 170 r \$0-onoff;
#X obj 643 172 spigot;
#X obj 643 114 r \$0-my-name;
#X obj 657 140 r \$0-session-name;
#X msg 643 197 0;
#X obj 643 222 s \$0-onoff;
#X obj 427 432 b;
#X obj 427 457 s \$0-server-alive;
#X obj 302 444 route channel;
#X text 26 9 metronomically send "call <call-name> <my-name> messages
to server. If server responds with a channel number to use \, set "onoff"
and let quacktrip-client do the rest.;
#X obj 186 93 t f f;
#X text 476 48 if I don't have a name make one up, f 18;
#X text 640 60 if we're in a call and the name changes \, stop call
, f 19;
#X text 464 268 force new connection in case something changed, f
24;
#X obj 35 332 pack 0 s s 0;
#X obj 34 211 r \$0-lvl-echo;
#X msg 35 358 send call \$2 \$3 \$4;
#X obj 547 578 unpack 0 0;
#X floatatom 556 605 5 0 0 0 - - -;
#X obj 612 625 s \$0-caller-count;
#X floatatom 624 602 5 0 0 0 - - -;
#X obj 325 563 change;
#X obj 302 527 t b f l;
#X obj 380 592 r \$0-onoff;
#X obj 325 591 spigot;
#X msg 252 627 0;
#X text 327 619 channel changed - force restart by stopping call,
f 17;
#X obj 592 512 spigot;
#X obj 592 537 print foo;
#X obj 633 484 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 358 498 expr $f1 > 0;
#X connect 1 0 2 0;
#X connect 3 0 52 0;
#X connect 4 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 6 0;
#X connect 5 2 1 0;
#X connect 5 2 19 0;
#X connect 5 2 29 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 9 0 15 0;
#X connect 10 0 17 0;
#X connect 10 1 48 0;
#X connect 10 1 50 0;
#X connect 10 1 69 0;
#X connect 11 0 12 1;
#X connect 12 0 16 0;
#X connect 13 0 12 2;
#X connect 14 0 12 0;
#X connect 15 0 56 0;
#X connect 15 1 18 0;
#X connect 16 0 10 0;
#X connect 18 0 14 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 10 0;
#X connect 22 0 56 1;
#X connect 23 0 56 2;
#X connect 24 0 64 0;
#X connect 25 0 24 0;
#X connect 25 1 26 0;
#X connect 26 0 72 0;
#X connect 28 0 29 1;
#X connect 29 0 30 0;
#X connect 30 0 33 0;
#X connect 31 0 32 0;
#X connect 33 0 31 0;
#X connect 34 0 1 0;
#X connect 35 0 38 0;
#X connect 36 0 37 0;
#X connect 37 0 39 1;
#X connect 38 0 39 1;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 42 0 43 1;
#X connect 43 0 46 0;
#X connect 44 0 43 0;
#X connect 45 0 43 0;
#X connect 46 0 47 0;
#X connect 48 0 49 0;
#X connect 50 0 25 0;
#X connect 52 0 4 0;
#X connect 52 1 34 0;
#X connect 56 0 58 0;
#X connect 57 0 56 3;
#X connect 58 0 10 0;
#X connect 59 0 27 0;
#X connect 59 0 60 0;
#X connect 59 1 61 0;
#X connect 59 1 62 0;
#X connect 63 0 66 0;
#X connect 64 0 39 0;
#X connect 64 1 63 0;
#X connect 64 2 59 0;
#X connect 65 0 66 1;
#X connect 66 0 67 0;
#X connect 67 0 41 0;
#X connect 69 0 70 0;
#X connect 71 0 69 1;
#X connect 72 0 24 1;
#X restore 449 11 pd set-up-call;
#X obj 381 10 tgl 15 0 \$0-onoff \$0-onoff-set onoff 17 7 0 10 -262144
-1 -1 0 1;
#X text 59 381 ------- output stats --------;
#X text 318 386 sending;
#X text 318 402 channel;
#X text 203 352 running;
#X obj 47 354 bng 15 250 50 0 empty \$0-server-alive empty 17 7 0 10
-262144 -1 -1;
#X text 64 351 server alive;
#X text 32 180 this channel name:;
#X text 86 201 call name:;
#X text 29 435 out:;
#X floatatom 68 463 5 0 0 0 - #0-remote-sr-set #0-remote-sr;
#X floatatom 129 463 3 0 0 0 - #0-remote-ch-set #0-remote-ch;
#X floatatom 180 463 3 0 0 0 - #0-remote-blk-set #0-remote-blk;
#X floatatom 227 463 5 0 0 0 - #0-remote-mbits-set #0-remote-mbits
;
#X text 30 461 in:;
#N canvas 370 90 923 688 audio-out 0;
#X obj 709 522 t b;
#X obj 709 469 f;
#X obj 709 547 f;
#X msg 823 546 0;
#X obj 709 499 moses 1;
#X obj 823 518 t b f;
#X obj 789 479 moses 1;
#X obj 85 100 inlet~;
#X obj 423 315 line~;
#X obj 373 360 *~;
#X obj 85 122 hip~ 3;
#X obj 687 270 f;
#X obj 424 41 r \$0-pan;
#X obj 423 275 pack 0 30, f 5;
#X obj 541 50 r \$0-ctr-pan;
#X obj 424 66 f;
#X obj 424 91 - 5;
#X obj 424 116 * 0.25;
#X obj 709 442 r \$0-mute;
#X obj 541 99 s \$0-pan;
#X obj 687 295 max 0;
#X obj 424 167 expr 1.5*$f1-0.5*($f1*$f1*$f1);
#X obj 424 141 clip -1 1;
#X obj 605 203 expr 0.5*($f1+1);
#X obj 423 220 expr 0.5*(1-$f1);
#X obj 579 73 loadbang;
#X obj 481 340 line~;
#X obj 419 359 *~;
#X obj 481 300 pack 0 30, f 5;
#X text 729 410 MUTE logic;
#X obj 543 356 line~;
#X obj 543 316 pack 0 30, f 5;
#X obj 374 389 *~;
#X obj 424 192 t f f;
#X obj 276 449 abs~;
#X obj 276 474 slop~ 0 0 0.3 0 1e+09, f 11;
#X obj 562 491 metro 100;
#X obj 278 522 snapshot~;
#X obj 278 547 rmstodb;
#X obj 278 572 moses 1;
#X msg 279 607 -100;
#X obj 326 602 - 88;
#X msg 541 75 5;
#X obj 173 97 inlet~;
#X obj 173 119 hip~ 3;
#X obj 419 391 *~;
#X obj 563 464 loadbang;
#X obj 434 446 abs~;
#X obj 434 471 slop~ 0 0 0.3 0 1e+09, f 11;
#X obj 435 520 snapshot~;
#X obj 435 545 rmstodb;
#X obj 435 570 moses 1;
#X msg 436 605 -100;
#X obj 483 600 - 88;
#X obj 277 643 s \$0-vu1;
#X obj 434 641 s \$0-vu2;
#X obj 685 323 expr pow($f1*0.02 \, 4);
#X obj 316 450 dac~ 1;
#X obj 473 446 dac~ 2;
#X obj 182 207 r \$0-mono;
#X obj 153 232 -~;
#X obj 182 232 * 0.5;
#X obj 153 257 *~ 0;
#X obj 57 289 -~;
#X obj 140 289 +~;
#X obj 424 247 expr $f1 + 0.25*($f1*$f2);
#X obj 480 273 expr $f2 + 0.25*($f1*$f2);
#X obj 788 450 r \$0-lvl-out;
#X obj 709 573 s \$0-lvl-out;
#X obj 688 243 r \$0-lvl-out;
#X obj 258 70 r \$0-test;
#X obj 258 95 clip 0 1;
#X obj 258 120 line~;
#X obj 55 172 *~;
#X obj 327 92 *~ -1;
#X obj 327 117 +~ 1;
#X obj 86 175 *~;
#X obj 174 174 *~;
#X obj 57 203 +~;
#X obj 140 200 +~;
#X obj 56 44 delread~ \$0-del-in1 1500, f 10;
#X obj 140 172 *~;
#X obj 141 44 delread~ \$0-del-in1 1500, f 10;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 68 0;
#X connect 3 0 68 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 6 1 2 1;
#X connect 7 0 10 0;
#X connect 8 0 9 1;
#X connect 9 0 32 0;
#X connect 10 0 76 0;
#X connect 11 0 20 0;
#X connect 12 0 15 0;
#X connect 13 0 8 0;
#X connect 14 0 42 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 22 0;
#X connect 18 0 1 0;
#X connect 20 0 56 0;
#X connect 21 0 33 0;
#X connect 22 0 21 0;
#X connect 23 0 65 1;
#X connect 23 0 66 1;
#X connect 24 0 65 0;
#X connect 24 0 66 0;
#X connect 25 0 42 0;
#X connect 26 0 27 1;
#X connect 27 0 45 0;
#X connect 28 0 26 0;
#X connect 30 0 32 1;
#X connect 30 0 45 1;
#X connect 31 0 30 0;
#X connect 32 0 34 0;
#X connect 32 0 57 0;
#X connect 33 0 24 0;
#X connect 33 1 23 0;
#X connect 34 0 35 0;
#X connect 35 0 37 0;
#X connect 36 0 37 0;
#X connect 36 0 49 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 39 1 41 0;
#X connect 40 0 54 0;
#X connect 41 0 54 0;
#X connect 42 0 19 0;
#X connect 43 0 44 0;
#X connect 44 0 77 0;
#X connect 45 0 47 0;
#X connect 45 0 58 0;
#X connect 46 0 36 0;
#X connect 47 0 48 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 52 0;
#X connect 51 1 53 0;
#X connect 52 0 55 0;
#X connect 53 0 55 0;
#X connect 56 0 31 0;
#X connect 59 0 61 0;
#X connect 60 0 62 0;
#X connect 61 0 62 1;
#X connect 62 0 64 1;
#X connect 62 0 63 1;
#X connect 63 0 9 0;
#X connect 64 0 27 0;
#X connect 65 0 13 0;
#X connect 66 0 28 0;
#X connect 67 0 1 1;
#X connect 67 0 6 0;
#X connect 69 0 11 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 72 0 74 0;
#X connect 72 0 73 1;
#X connect 72 0 81 1;
#X connect 73 0 78 0;
#X connect 74 0 75 0;
#X connect 75 0 76 1;
#X connect 75 0 77 1;
#X connect 76 0 78 1;
#X connect 77 0 79 1;
#X connect 78 0 63 0;
#X connect 78 0 60 0;
#X connect 79 0 64 0;
#X connect 79 0 60 1;
#X connect 80 0 73 0;
#X connect 81 0 79 0;
#X connect 82 0 81 0;
#X restore 368 579 pd audio-out;
#X obj 456 388 change;
#X floatatom 301 330 7 0 0 0 - #0-packets-in-set #0-packets-in;
#X floatatom 302 352 5 0 0 0 - #0-dropouts-set #0-dropouts;
#X floatatom 263 590 5 0 0 0 - #0-nfill-set #0-nfill;
#X obj 721 436 b;
#X obj 724 506 f;
#X obj 756 507 + 1;
#X obj 343 357 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 671 436 0;
#X obj 631 479 b;
#X obj 631 504 f;
#X obj 659 505 + 1;
#X obj 631 533 speedlim 100;
#X obj 760 414 s \$0-calling;
#X obj 631 560 s \$0-packets-in-set;
#X obj 724 533 s \$0-dropouts-set;
#X obj 572 679 s \$0-nfill-set;
#X obj 879 421 s \$0-connected-set;
#X obj 1019 392 print quack-panel-\$1;
#X obj 870 473 sel 0;
#X obj 870 498 0;
#X obj 870 523 s \$0-fill-set;
#X obj 781 445 s \$0-server-answered;
#X obj 591 653 s \$0-remote-sr-set;
#X obj 607 445 route 0;
#X obj 456 465 line~;
#X obj 416 543 rpole~;
#X obj 456 413 sel 1 0;
#X obj 416 507 *~;
#X obj 456 490 *~ -1;
#X obj 456 514 +~ 1;
#X obj 456 438 1 5;
#X obj 485 438 0.0005;
#X obj 367 543 rpole~;
#X obj 367 506 *~;
#X obj 538 591 unpack 0 0 0 0 0;
#X obj 618 626 s \$0-remote-ch-set;
#X obj 663 597 s \$0-remote-blk-set;
#X obj 532 348 route got-packet drop late miss request-call no-peer-yet
running bw, f 68;
#X text 222 591 fill;
#X text 243 330 packets;
#X text 265 352 drop;
#X floatatom 347 138 5 0 100 0 - #0-fifo-size-set #0-fifo-size;
#X text 345 120 delay;
#X obj 337 52 bng 15 250 50 0 \$0-mute \$0-mute-set empty 0 0 0 12
-262144 -1 -1;
#X obj 345 93 hsl 20 12 1 9 0 0 \$0-pan \$0-pan-set empty 0 0 0 10
-262144 -1 -1 950 1;
#X obj 369 93 bng 12 250 50 0 \$0-ctr-pan \$0-ctr-pan-set empty 0 0
0 12 -262144 -1 -1;
#X obj 309 77 vu 8 80 \$0-vu1 empty -1 -8 0 10 -66577 -1 0 0;
#X text 356 48 mute;
#X obj 324 77 vu 8 80 \$0-vu2 empty -1 -8 0 10 -66577 -1 0 0;
#X text 335 75 balance;
#X obj 469 83 vu 8 80 \$0-vu-post empty -1 -8 0 10 -66577 -1 0 0;
#X text 477 106 post-AGC;
#X obj 825 14 declare -path lib/quacktrip~ -path lib -path ../lib;
#N canvas 887 148 865 508 test 0;
#X obj 196 339 readsf~;
#X obj 343 97 sel 0;
#X msg 177 232 stop;
#X obj 23 50 vradio 15 1 0 5 \$0-test-file \$0-test-file-set empty
0 -8 0 10 -262144 -1 -1 1;
#X obj 84 23 vsl 15 101 0 100 0 0 \$0-test-vol \$0-test-vol-set empty
0 -9 0 10 -262144 -1 -1 5000 1;
#X obj 486 64 setctl \$0-test-file;
#X obj 487 88 setctl \$0-test-vol;
#X obj 345 44 r \$0-test-file;
#X floatatom 363 69 5 0 0 0 - - -;
#X text 41 47 off;
#X text 41 63 bass;
#X text 41 78 tenor;
#X text 40 92 alto;
#X text 41 108 sop;
#X msg 223 297 open /home/msp/bis/work/misc/test-claudio/voice\$1.wav
\, start, f 76;
#X obj 196 364 *~;
#X obj 357 329 r \$0-test-vol;
#X obj 356 411 pack 0 20;
#X obj 356 436 line~;
#X obj 357 361 f;
#X obj 357 386 expr $f1*$f1*$f1*$f1/6.25e6;
#X obj 161 444 env~ 8192;
#X floatatom 161 469 5 0 0 0 - - -;
#X obj 301 242 f;
#X obj 684 110 loadbang;
#X obj 684 135 50;
#X obj 684 160 s \$0-test-vol;
#X obj 196 403 s~ \$0-adc-addin;
#X connect 0 0 15 0;
#X connect 0 1 23 0;
#X connect 1 0 2 0;
#X connect 1 1 23 0;
#X connect 2 0 0 0;
#X connect 7 0 1 0;
#X connect 7 0 8 0;
#X connect 14 0 0 0;
#X connect 15 0 27 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 15 1;
#X connect 19 0 20 0;
#X connect 20 0 17 0;
#X connect 21 0 22 0;
#X connect 23 0 14 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X coords 0 -1 1 1 85 110 1 20 20;
#X restore 29 526 pd test;
#X obj 766 647 r \$0-post-loadbang;
#X text 157 108 test:;
#X text 131 30 -- send --;
#X text 246 30 -- receive --;
#N canvas 405 122 383 542 setctls 0;
#X obj 55 101 setctl \$0-onoff;
#X obj 53 126 setctl \$0-server;
#X obj 50 227 setctl \$0-blksel;
#X obj 50 205 setctl \$0-nchan;
#X obj 49 251 setctl \$0-2x;
#X obj 54 151 setctl \$0-port;
#X obj 54 176 setctl \$0-this-caller;
#X obj 57 33 setctl \$0-call;
#X obj 58 56 setctl \$0-my-name;
#X obj 60 76 setctl \$0-session-name;
#X obj 49 275 setctl \$0-test;
#X obj 55 13 setctl \$0-fifo-size;
#X obj 52 302 setctl \$0-tone;
#X obj 53 332 setctl \$0-lvl-in;
#X obj 56 360 setctl \$0-lvl-out;
#X obj 59 385 setctl \$0-lvl-echo;
#X obj 59 412 setctl \$0-pan;
#X obj 53 440 setctl \$0-caller-count;
#X restore 448 42 pd setctls;
#X obj 158 147 tgl 15 0 \$0-test \$0-test-set empty 17 7 0 10 -262144
-1 -1 0 1;
#X text 173 128 tone;
#X obj 109 61 vsl 15 101 0 100 0 0 \$0-lvl-in \$0-lvl-in-set empty
0 -9 0 10 -262144 -1 -1 0 1;
#X obj 287 55 vsl 15 101 0 100 0 0 \$0-lvl-out \$0-lvl-out-set empty
0 -9 0 10 -262144 -1 -1 0 1;
#X obj 250 55 vsl 15 101 0 100 0 0 \$0-lvl-echo \$0-lvl-echo-set empty
0 -9 0 10 -262144 -1 -1 0 1;
#X text 108 301 local sample rate, f 6;
#X text 235 159 echo;
#X text 285 159 master;
#X text 98 102 -;
#X text 276 95 -;
#X floatatom 307 53 3 0 100 0 - #0-lvl-out-set #0-lvl-out;
#X text 239 95 -;
#X text 175 147 local;
#X text 231 264 number of callers, f 9;
#X floatatom 302 271 5 0 0 0 - #0-caller-count-set #0-caller-count
;
#X obj 596 126 setctl \$0-stereo;
#X obj 591 155 r \$0-stereo;
#X obj 591 180 + 1;
#X obj 591 205 s \$0-nchan;
#X obj 27 137 tgl 15 0 \$0-stereo \$0-stereo-set empty 17 7 0 10 -262144
-1 -1 0 1;
#X text 45 139 stereo;
#X text 46 126 send;
#X obj 141 83 vu 8 80 \$0-vu-in1 empty -1 -8 0 10 -66577 -1 0 0;
#X obj 129 83 vu 8 80 \$0-vu-in2 empty -1 -8 0 10 -66577 -1 0 0;
#X msg 951 88 \; \$1-server symbol localhost \; \$1-port 10100 \; \$1-this-caller
1 \; \$1-nchan 1 \; \$1-block 64 \; \$1-my-name symbol - \; \$1-fifo-size
20 \; \$1-pan 5 \; \$1-session-name symbol - \; \$1-post-loadbang bang
\; pd dsp 1;
#X floatatom 301 307 3 0 0 0 - #0-min-fill-set #0-min-fill;
#X text 264 308 fill;
#X floatatom 341 307 3 0 0 0 - #0-max-fill-set #0-max-fill;
#X text 326 306 -;
#X obj 1050 510 s \$0-local-mbits-set;
#X obj 1017 534 s \$0-remote-mbits-set;
#X obj 1015 423 unpack 0 0 0 0;
#X obj 1077 484 s \$0-min-fill-set;
#X obj 1098 455 s \$0-max-fill-set;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 95 0;
#X connect 11 1 89 0;
#X connect 11 2 99 0;
#X connect 12 0 11 2;
#X connect 13 0 15 0;
#X connect 14 0 145 0;
#X connect 14 0 36 0;
#X connect 15 0 14 0;
#X connect 22 0 23 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 26 1 28 0;
#X connect 26 2 29 0;
#X connect 27 0 30 0;
#X connect 28 0 30 0;
#X connect 29 0 30 0;
#X connect 31 0 32 0;
#X connect 32 0 22 0;
#X connect 33 0 24 0;
#X connect 34 0 35 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 61 0 88 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 66 0 76 0;
#X connect 67 0 66 1;
#X connect 68 0 69 0;
#X connect 69 0 71 0;
#X connect 69 0 66 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 71 0 73 0;
#X connect 72 0 71 1;
#X connect 73 0 75 0;
#X connect 80 0 81 0;
#X connect 81 0 82 0;
#X connect 85 1 70 0;
#X connect 86 0 90 0;
#X connect 86 0 89 1;
#X connect 86 0 95 1;
#X connect 87 0 60 1;
#X connect 88 0 92 0;
#X connect 88 1 93 0;
#X connect 89 0 87 0;
#X connect 90 0 91 0;
#X connect 91 0 87 1;
#X connect 91 0 94 1;
#X connect 92 0 86 0;
#X connect 93 0 86 0;
#X connect 94 0 60 0;
#X connect 95 0 94 0;
#X connect 96 0 61 0;
#X connect 96 1 77 0;
#X connect 96 2 84 0;
#X connect 96 3 97 0;
#X connect 96 4 98 0;
#X connect 99 0 85 0;
#X connect 99 0 96 0;
#X connect 99 1 65 0;
#X connect 99 2 65 0;
#X connect 99 3 65 0;
#X connect 99 4 74 0;
#X connect 99 5 83 0;
#X connect 99 6 80 0;
#X connect 99 6 78 0;
#X connect 99 7 152 0;
#X connect 99 8 79 0;
#X connect 137 0 138 0;
#X connect 138 0 139 0;
#X connect 152 0 151 0;
#X connect 152 1 150 0;
#X connect 152 2 153 0;
#X connect 152 3 154 0;
#X coords 0 -1 1 1 390 350 2 20 30;
#X restore 17 13 pd main-panel;
#N canvas 177 134 467 623 chefs-corner 0;
#N canvas 441 622 986 597 works 0;
#X symbolatom 171 128 10 0 0 0 password #0-password-set #0-password
;
#X symbolatom 176 157 15 0 0 0 - #0-call-name-set #0-call-name;
#X obj 111 220 f \$0;
#X obj 211 181 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 160 180 CLEAR;
#X text 103 157 call name;
#X msg 111 245 \; \$1-password symbol - \; \$1-call-name symbol -;
#N canvas 981 458 758 490 send-admin 0;
#X obj 335 259 netsend -u;
#X obj 372 131 r \$0-server;
#X obj 338 184 pack 0 s 0;
#X obj 385 156 r \$0-port;
#X obj 339 104 sel 0;
#X obj 163 28 r \$0-send-admin;
#X obj 341 79 v \$0-admin-connected;
#X msg 338 215 disconnect \, connect \$2 \$3;
#X obj 335 333 sel 0;
#X obj 336 383 s \$0-resend-admin;
#X obj 355 301 v \$0-admin-connected;
#X obj 425 263 s \$0-admin-got-reply;
#X obj 166 60 t l b;
#X obj 164 115 list trim;
#X obj 335 358 del 1000;
#X obj 148 335 print to-netsend;
#X obj 164 90 list prepend send admin;
#X obj 149 305 spigot;
#X obj 204 305 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 330 23 r \$0-server;
#X obj 420 24 r \$0-port;
#X msg 345 53 0;
#X connect 0 0 8 0;
#X connect 0 0 10 0;
#X connect 0 1 11 0;
#X connect 1 0 2 1;
#X connect 2 0 7 0;
#X connect 3 0 2 2;
#X connect 4 0 2 0;
#X connect 5 0 12 0;
#X connect 6 0 4 0;
#X connect 7 0 0 0;
#X connect 7 0 17 0;
#X connect 8 0 14 0;
#X connect 12 0 16 0;
#X connect 12 1 6 0;
#X connect 13 0 0 0;
#X connect 13 0 17 0;
#X connect 14 0 9 0;
#X connect 16 0 13 0;
#X connect 17 0 15 0;
#X connect 18 0 17 1;
#X connect 19 0 21 0;
#X connect 20 0 21 0;
#X connect 21 0 6 0;
#X restore 341 41 pd send-admin;
#N canvas 228 352 1378 919 read-roster 0;
#X obj 81 152 text define \$0-roster;
#X msg 79 51 symbol example-roster.txt;
#X obj 402 278 moses 1;
#X obj 465 280 t f b, f 6;
#X obj 447 310 until;
#X obj 447 335 f;
#X obj 480 343 + 1;
#X obj 402 249 text size \$0-roster;
#X obj 45 702 text get \$0-roster;
#X msg 80 124 clear \, read -c \$1;
#X msg 895 497 0;
#X obj 402 365 t f f;
#X obj 453 369 text size \$0-roster;
#X obj 402 394 spigot;
#X obj 568 635 f;
#X obj 700 627 f;
#X msg 540 604 10;
#X obj 25 49 symbol;
#X msg 699 597 10;
#X obj 453 394 > 0;
#X obj 302 784 pack 0 0 \$0 0 0;
#X obj 787 753 - 20;
#X obj 18 155 f \$0;
#X obj 423 180 f \$0;
#X msg 302 829 \; pd-\$3-panel obj \$1 \$2 chef101-channel \$3 \$4
\$5;
#X obj 379 152 t b b b;
#X obj 250 170 f \$0;
#X msg 249 206 \; \$1-init-panel bang \; pd-\$1-panel vis 1;
#X msg 17 191 \; \$1-my-name symbol chef \; \$1-new-roster bang;
#X obj 26 84 t b b s;
#X obj 45 732 unpack s 0 0;
#X obj 142 734 r \$0-mkroster-voice;
#X text 321 805 x y \$0 voiceno groupno;
#X obj 302 701 f;
#X obj 334 701 r \$0-mkroster-x;
#X obj 327 726 r \$0-mkroster-y;
#X obj 378 754 r \$0-mkroster-voice;
#X obj 420 785 r \$0-mkroster-group;
#X msg 691 803 \; pd-\$1-panel obj \$3 10 vsl 15 101 0 100 0 0 \$1-\$2-group-gain
\$1-\$2-group-gain-set empty 0 -9 0 10 -262144 -1 -1 0 1 \; \$1-\$2-group-gain
50;
#X obj 691 753 pack \$0 0 0;
#X obj 691 720 f \$0;
#X text 710 780 \$0 group x;
#X obj 786 727 r \$0-mkroster-x;
#X obj 763 701 r \$0-mkroster-group;
#X obj 399 616 f;
#X obj 436 618 + 1;
#X obj 400 645 s \$0-mkroster-voice;
#X obj 571 461 text get \$0-roster;
#X obj 571 486 unpack s 0 0;
#X obj 568 666 s \$0-mkroster-x;
#X obj 701 658 s \$0-mkroster-y;
#X obj 605 515 sel 1 2;
#X obj 666 514 t b b b;
#X obj 802 601 f;
#X obj 839 603 + 1;
#X obj 803 630 s \$0-mkroster-group;
#X msg 491 314 0;
#X obj 403 420 t b f b f b;
#X obj 600 635 + 75;
#X obj 733 628 + 85;
#X obj 973 39 r \$0-check-our-roster;
#X obj 993 128 spigot;
#X obj 1134 149 list length;
#X obj 1135 207 ==;
#X text 1187 230 warn caller roster changed, f 15;
#X floatatom 1271 200 5 0 0 0 - - -;
#X floatatom 1232 201 5 0 0 0 - - -;
#X obj 969 223 until;
#X obj 970 349 list store;
#X msg 969 322 get \$1 1;
#X obj 970 374 select -;
#X obj 969 197 f;
#X obj 1055 349 t s;
#X obj 993 153 t b b l;
#X obj 969 248 f;
#X msg 1012 221 0;
#X obj 969 273 t f f;
#X text 1126 70 <name flag level pan vu> ...;
#X text 1052 99 check names against our roster;
#X obj 1055 324 text get \$0-roster;
#X obj 1135 177 / 5;
#X obj 1223 149 text size \$0-roster;
#X obj 998 249 + 1;
#X obj 974 90 t l l l b;
#X obj 778 121 spigot;
#X obj 777 367 text set \$0-roster 1e+09;
#X msg 869 147 clear;
#X obj 869 172 s \$0-roster;
#X obj 780 232 until;
#X obj 780 206 f;
#X obj 780 257 f;
#X msg 823 230 0;
#X obj 776 147 t b l l b;
#X obj 780 179 list length;
#X obj 779 310 list store;
#X obj 809 258 + 5;
#X msg 780 281 get \$1 5;
#X obj 71 761 pack s 0 0 \$0 0;
#X msg 71 815 \; names-\$4-\$5 list \$1 \$2 \$3;
#X text 88 788 name flag pan \$0 voiceno;
#X floatatom 829 57 5 0 0 0 - - -;
#X obj 969 298 * 5;
#X obj 1172 210 sel;
#X obj 1222 391 s \$0-roster-no-good;
#X msg 1188 353 1;
#X obj 810 30 r \$0-roster-no-good;
#X obj 654 77 print new-roster;
#X obj 63 305 openpanel;
#X obj 63 280 r \$0-read-roster-dialog;
#X obj 299 25 r \$0-write-roster-dialog;
#X obj 25 24 r \$0-read-roster;
#X obj 298 53 savepanel;
#X msg 216 122 write -c \$1;
#X obj 63 330 t s b;
#X msg 109 336 0;
#X obj 62 389 s \$0-read-roster;
#X obj 107 361 s \$0-run-as-chef;
#X msg 779 335 list \$1 \$2 0;
#X obj 84 458 r \$0-init-panel;
#X text 80 485 suppress error msg if nobody in panel, f 14;
#X msg 467 184 \; pd-\$1-panel clear \; \$1-roster-spigot 1;
#X msg 1222 354 0;
#X connect 1 0 29 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 3 1 10 0;
#X connect 3 1 56 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 5 1;
#X connect 7 0 2 0;
#X connect 8 0 30 0;
#X connect 9 0 0 0;
#X connect 10 0 18 0;
#X connect 10 0 16 0;
#X connect 10 0 53 0;
#X connect 10 0 44 0;
#X connect 11 0 13 0;
#X connect 11 1 12 0;
#X connect 12 0 19 0;
#X connect 13 0 57 0;
#X connect 14 0 49 0;
#X connect 14 0 58 0;
#X connect 15 0 50 0;
#X connect 15 0 59 0;
#X connect 16 0 14 0;
#X connect 17 0 29 0;
#X connect 18 0 15 0;
#X connect 19 0 13 1;
#X connect 20 0 24 0;
#X connect 21 0 39 2;
#X connect 22 0 28 0;
#X connect 23 0 120 0;
#X connect 25 0 26 0;
#X connect 25 1 7 0;
#X connect 25 2 23 0;
#X connect 26 0 27 0;
#X connect 29 0 22 0;
#X connect 29 1 25 0;
#X connect 29 2 9 0;
#X connect 30 0 97 0;
#X connect 30 1 97 1;
#X connect 30 2 97 2;
#X connect 31 0 97 4;
#X connect 33 0 20 0;
#X connect 34 0 33 1;
#X connect 35 0 20 1;
#X connect 36 0 20 3;
#X connect 37 0 20 4;
#X connect 39 0 38 0;
#X connect 40 0 39 0;
#X connect 42 0 21 0;
#X connect 43 0 39 1;
#X connect 44 0 45 0;
#X connect 44 0 46 0;
#X connect 45 0 44 1;
#X connect 47 0 48 0;
#X connect 48 1 51 0;
#X connect 51 0 18 0;
#X connect 51 0 14 0;
#X connect 51 1 52 0;
#X connect 52 0 40 0;
#X connect 52 1 14 0;
#X connect 52 2 18 0;
#X connect 52 2 14 0;
#X connect 52 2 53 0;
#X connect 53 0 54 0;
#X connect 53 0 55 0;
#X connect 54 0 53 1;
#X connect 56 0 5 1;
#X connect 57 0 15 0;
#X connect 57 0 44 0;
#X connect 57 1 8 0;
#X connect 57 2 33 0;
#X connect 57 3 47 0;
#X connect 58 0 14 1;
#X connect 59 0 15 1;
#X connect 60 0 83 0;
#X connect 61 0 73 0;
#X connect 62 0 71 1;
#X connect 62 0 80 0;
#X connect 63 0 61 1;
#X connect 67 0 74 0;
#X connect 68 0 70 0;
#X connect 69 0 68 0;
#X connect 70 1 104 0;
#X connect 71 0 67 0;
#X connect 72 0 70 1;
#X connect 73 0 71 0;
#X connect 73 1 75 0;
#X connect 73 2 68 1;
#X connect 74 0 76 0;
#X connect 74 0 82 0;
#X connect 75 0 74 1;
#X connect 76 0 101 0;
#X connect 76 1 79 0;
#X connect 79 0 72 0;
#X connect 80 0 63 0;
#X connect 80 0 66 0;
#X connect 80 0 102 0;
#X connect 81 0 63 1;
#X connect 81 0 65 0;
#X connect 81 0 102 1;
#X connect 82 0 74 1;
#X connect 83 0 84 0;
#X connect 83 1 61 0;
#X connect 83 2 62 0;
#X connect 83 3 121 0;
#X connect 83 3 81 0;
#X connect 84 0 92 0;
#X connect 86 0 87 0;
#X connect 88 0 90 0;
#X connect 89 0 88 0;
#X connect 90 0 95 0;
#X connect 90 0 96 0;
#X connect 91 0 90 1;
#X connect 92 0 25 0;
#X connect 92 1 93 0;
#X connect 92 2 94 1;
#X connect 92 3 86 0;
#X connect 92 3 91 0;
#X connect 93 0 89 0;
#X connect 94 0 117 0;
#X connect 95 0 90 1;
#X connect 96 0 94 0;
#X connect 97 0 98 0;
#X connect 101 0 69 0;
#X connect 102 1 104 0;
#X connect 104 0 103 0;
#X connect 105 0 84 1;
#X connect 105 0 100 0;
#X connect 107 0 113 0;
#X connect 108 0 107 0;
#X connect 109 0 111 0;
#X connect 110 0 17 0;
#X connect 111 0 112 0;
#X connect 112 0 0 0;
#X connect 113 0 115 0;
#X connect 113 1 114 0;
#X connect 114 0 116 0;
#X connect 117 0 85 0;
#X connect 121 0 103 0;
#X restore 343 74 pd read-roster;
#X obj 61 436 f \$0;
#N canvas 336 193 584 489 template 0;
#X obj 253 381 pointer;
#X obj 113 393 append rect x y z;
#X msg 114 356 50 50 30;
#X obj 96 232 drawpolygon 0 1 -15 -15 15 -15 15 15 -15 15 -15 -15;
#X obj 105 69 struct rect float x float y float z float c;
#X obj 103 148 filledpolygon c c 0 z(0:100)(0:-100) z(0:100)(0:-100)
z(0:100)(0:100) z(0:100)(0:-100) z(0:100)(0:100) z(0:100)(0:100) z(0:100)(0:-100)
z(0:100)(0:100);
#X msg 259 339 traverse pd-test-template \, bang;
#X connect 0 0 1 3;
#X connect 2 0 1 0;
#X connect 6 0 0 0;
#X restore 316 448 pd template;
#N canvas 0 50 438 458 setctls 0;
#X obj 143 89 setctl \$0-1-group-gain;
#X obj 142 112 setctl \$0-2-group-gain;
#X obj 142 136 setctl \$0-3-group-gain;
#X obj 142 159 setctl \$0-4-group-gain;
#X obj 142 183 setctl \$0-5-group-gain;
#X obj 141 206 setctl \$0-6-group-gain;
#X obj 141 230 setctl \$0-7-group-gain;
#X obj 141 253 setctl \$0-8-group-gain;
#X obj 141 277 setctl \$0-9-group-gain;
#X obj 141 300 setctl \$0-10-group-gain;
#X obj 147 385 setctl \$0-password;
#X obj 146 410 setctl \$0-call-name;
#X obj 150 351 setctl \$0-run-as-chef;
#X restore 727 301 pd setctls;
#X obj 560 518 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 560 538 s \$0-init-panel;
#X obj 689 490 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 690 539 s \$0-resend-admin;
#X obj 689 510 metro 100;
#X obj 650 153 metro 100;
#X obj 650 180 s \$0-send-controls;
#X obj 416 212 print got-reply;
#X obj 416 187 spigot;
#X obj 470 186 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 396 155 r \$0-admin-got-reply;
#X obj 396 242 route meter;
#X obj 344 354 s \$0-all-meters;
#X msg 571 446 \; read-roster example-roster.txt;
#X obj 559 84 s \$0-call;
#X obj 62 411 r \$0-post-loadbang;
#X text 114 114 chef's;
#X msg 61 465 \; \$1-password symbol - \; \$1-call-name symbol - \;
pd-\$1-panel clear \;;
#X obj 396 267 route 0 1;
#X obj 376 323 s \$0-check-our-roster;
#X obj 344 269 t l l;
#X obj 398 293 list;
#X obj 343 244 list;
#N canvas 278 302 842 602 send-roster-and-ping 0;
#X obj 122 183 symbol;
#X obj 109 157 del 0;
#X obj 123 539 s \$0-send-admin;
#X obj 109 73 r \$0-resend-admin;
#X obj 125 357 list prepend setup;
#X obj 257 515 spigot;
#X obj 311 514 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 173 386 r \$0-password;
#X obj 124 441 list prepend -;
#X obj 169 413 t b s;
#X obj 250 58 r \$0-call-name;
#X obj 91 121 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 123 332 list store, f 23;
#X obj 262 543 print send-roster;
#X obj 123 210 t s b b, f 23;
#X obj 86 16 r \$0-new-roster;
#X obj 474 564 s \$0-send-admin;
#X obj 625 501 spigot;
#X obj 679 500 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 502 472 r \$0-password;
#X obj 474 534 list prepend -;
#X obj 498 499 t b s;
#X obj 473 373 list store, f 23;
#X obj 548 282 s \$0-channel-request-controls;
#X obj 487 313 r \$0-channel-controls;
#X obj 473 210 r \$0-send-controls;
#X obj 473 251 t b b b, f 23;
#X obj 630 529 print send-ping;
#X obj 198 241 s \$0-channel-request-names;
#X obj 141 271 r \$0-channel-names;
#X text 471 148 repeatedly send level messages containing (gain \,
pan \, solo) for every caller in one long message, f 33;
#X text 190 156 send "setup" message to set roster at startup as (name
\, gain \, pan) triples, f 25;
#X msg 141 300 prepend \$1 \$2;
#X msg 488 341 prepend \$1 \$2 \$3 \$4;
#X obj 650 393 r \$0-this-caller;
#X obj 633 419 f;
#X msg 629 444 list ping \$1;
#X obj 473 398 t l b;
#X obj 470 443 list prepend;
#X obj 248 82 t b s;
#X obj 124 471 spigot;
#X obj 184 474 r \$0-roster-spigot;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 8 0;
#X connect 5 0 13 0;
#X connect 6 0 5 1;
#X connect 7 0 9 0;
#X connect 8 0 40 0;
#X connect 9 0 8 0;
#X connect 9 1 8 1;
#X connect 10 0 39 0;
#X connect 11 0 1 0;
#X connect 12 0 4 0;
#X connect 14 0 12 0;
#X connect 14 1 28 0;
#X connect 14 2 12 1;
#X connect 15 0 1 0;
#X connect 17 0 27 0;
#X connect 18 0 17 1;
#X connect 19 0 21 0;
#X connect 20 0 16 0;
#X connect 20 0 17 0;
#X connect 21 1 20 1;
#X connect 22 0 37 0;
#X connect 24 0 33 0;
#X connect 25 0 26 0;
#X connect 26 0 22 0;
#X connect 26 1 23 0;
#X connect 26 2 22 1;
#X connect 29 0 32 0;
#X connect 32 0 12 0;
#X connect 33 0 22 0;
#X connect 34 0 35 1;
#X connect 35 0 36 0;
#X connect 36 0 38 1;
#X connect 37 0 38 0;
#X connect 37 1 35 0;
#X connect 38 0 20 0;
#X connect 39 0 1 0;
#X connect 39 1 0 1;
#X connect 40 0 5 0;
#X connect 40 0 2 0;
#X connect 41 0 40 1;
#X restore 343 104 pd send-roster-and-ping;
#X obj 638 272 r \$0-call;
#X obj 638 297 sel 0;
#X msg 637 322 set 0;
#X obj 638 347 s \$0-run-as-chef-set;
#X obj 691 37 r \$0-open-roster;
#X obj 691 64 t b f;
#X obj 691 89 ||;
#X obj 691 114 change;
#X obj 559 30 r \$0-run-as-chef;
#X msg 728 150 2000;
#X text 766 139 slow down to debug, f 9;
#X text 354 133 metering reply:;
#N canvas 67 519 450 300 test-template 0;
#X scalar rect 50 50 30 0 \;;
#X restore 315 477 pd test-template;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 9 0 29 0;
#X connect 12 0 13 0;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 20 0 19 0;
#X connect 21 0 20 1;
#X connect 22 0 20 0;
#X connect 22 0 23 0;
#X connect 23 0 30 0;
#X connect 27 0 9 0;
#X connect 30 0 33 0;
#X connect 30 1 34 0;
#X connect 32 0 24 0;
#X connect 32 1 31 0;
#X connect 33 0 31 0;
#X connect 34 0 32 0;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 40 0 41 0;
#X connect 41 0 42 0;
#X connect 41 1 42 1;
#X connect 42 0 43 0;
#X connect 43 0 17 0;
#X connect 44 0 26 0;
#X connect 44 0 42 0;
#X connect 45 0 17 1;
#X coords 0 -1 1 1 200 100 2 100 100;
#X restore 25 15 pd works;
#X obj 89 144 bng 30 250 50 0 \$0-read-roster-dialog empty empty 17
7 0 10 -262144 -1 -1;
#X obj 89 189 tgl 30 0 \$0-run-as-chef \$0-run-as-chef-set empty 17
7 0 10 -262144 -1 -1 0 1;
#X text 127 143 read roster file, f 12;
#X text 36 151 1 -->;
#X text 41 196 2 -->;
#X text 123 573 reopen control panel ->>;
#X text 19 251 One member of the group should open this \, set the
roster \, and start the call. That member also controls the mix \,
using a mixer panel that is configured when the roster is set.;
#X text 17 322 There is an example roster file in the "lib" subdirectory
called \, yes \, "example-roster.txt". Each nonempty line contains
one member's name and a pan value (0 for hard left \, 10 for hard right
\, 5 for center). If no pan value is given the most recent one is used.
A single empty line breaks a column of entries in the panel \, and
a double empty line sets groups apart. Each such group gets a submaster
(a slider that pushes everyone in the group up or down.);
#X text 22 229 This is the "chef's corner" \, used to organize the
call.;
#X text 20 460 The server (which is run separately on a machine with
a public IP address) may require a password. If not \, a "-" will get
you in. You (the chef) may also specify a call name that all members
have to give in order to get into the call. These are to prevent bombing
(which seems unlikely \, but then again there are a lot of juveniles
running around on the net).;
#N canvas 906 109 650 664 \$0-panel 0;
#X restore 302 573 pd \$0-panel;
#X obj 286 186 bng 30 250 50 0 \$0-write-roster-dialog empty empty
17 7 0 10 -262144 -1 -1;
#X text 324 185 save roster to file, f 11;
#X text 122 186 start call as chef, f 10;
#X text 43 123 TO BECOME CHEF DO THIS:;
#X text 256 121 TO SEE ROSTER DO THIS:;
#X obj 286 145 tgl 30 0 \$0-open-roster \$0-open-roster-set empty 17
7 0 10 -262144 -1 -1 0 1;
#X text 319 142 open mixer panel, f 10;
#X restore 665 330 pd chefs-corner;
#X obj 467 303 pdcontrol;
#X msg 467 277 browse http://msp.ucsd.edu/tools/quacktrip/doc.htm;
#X text 418 254 click here to open detailed documentation in your browser:
;
#X text 417 94 Music101 connects to a central server that makes a 2-channel
mix of all connected patches and sends that one mix back out to everyone
in the ensemble. One participant acts as chef and runs the meeting
\, setting the names of all ensemble members and setting mix levels.
;
#X text 461 330 open to set up a meeting ->>;
#X text 420 23 Music101 - Quacktrip for larger ensembles;
#X text 419 51 This is the third patch in the Quacktrip series \, after
Quacktrp and Netty McNetface.;
#X text 416 183 Controls are much the same as for Netty McNetface \,
except that "test local" lets you hear your own mic signal with a short
delay so you can test your mic.;
#X text 630 356 Music101 version 0.92test1;
#X connect 3 0 2 0;
